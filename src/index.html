<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bratz Magazine</title>
    <style>
        body {
            background-color: #FF66CC; /* Bratz Pink */
            font-family: Arial, sans-serif;
            margin: 0;
            overflow: hidden;
        }

        .draggable {
            width: 300px;
            height: 200px;
            background-color: #8A2BE2; /* Purple background */
            color: #FFF; /* White text color */
            text-align: center;
            cursor: grab; /* Change cursor type */
            position: absolute;
            border-radius: 10px;
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.3); /* Add a shadow */
        }

        #desktop {
            background-color: #725f6a; /* Purple */
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding-top: 20px;
            border-radius: 20;

        }

        nav {
          -webkit-flex: 1;
          -ms-flex: 1;
          flex: 1;
          background: purple;
          padding: 20px;
          overflow: hidden;
        }

        .menu-item {
            color: #FFF;
            margin: 0 10px;
            cursor: pointer;
        }

        .dropdown {
            float: left;
            overflow: hidden;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #7d7c81;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }

        .dropdown:hover .dropdown-content
        {
            display: block;
        }

        #menu-bar {
            width: 100%;
            background-color: #7d7c81;
            display: flex;
            justify-content: center;
            padding: 10px 10;
            border-radius: 10px;
        }


        #content {
            flex-grow: 1;
            width: 80%;
            background-color: #FFF;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            overflow: auto;
        }

        #footer {
            width: 100%;
            background-color: #000;
            color: #FFF;
            text-align: center;
            padding: 10px 0;
        }

        /* Desktop Icons */
        .desktop-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
        }

        .desktop-icon a {
            text-decoration: none;
            color: #8B008B; /* Purple */
            font-weight: bold;
            margin-top: 5px;
        }

        .desktop-icon img {
            width: 80px;
            height: 80px;
            margin-bottom: 10px;
        }

        /* Change Background Button */
        #change-bg-button {
            background-color: #8B008B; /* Purple */
            color: #FFF;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            margin: 20px;
        }
    </style>
</head>
<body>
    <div id="desktop">
     
        <div id="menu-bar">
            <div class="menu-item">File</div>
            <div class="menu-item">Edit</div>
            <div class="dropdown">View
                <dic class="dropdown-content">
                    <a href="">Hello</a>
                </dic>

            </div>
            <div class="menu-item">Help</div>
        </div>
   
        <div id="content">
            <h1>Welcome to Bratz Magazine</h1>
            <p>Your source for all things Bratz!</p>
            <!-- Add Bratz-related content here -->
        </div>
        <div class="desktop-icon">
            <a href="#">Bratz News</a>
            <img src="" alt="Bratz News Icon">
        </div>
        <div id="draggable-block" class="draggable">
            <div class="desktop-icon">
                <a href="#">Fashion Trends</a>
                <img src="" alt="Fashion Trends Icon">
            </div>
        </div>
        <!-- Add more icons as needed -->

        <!-- Change Background Button -->
        <button id="change-bg-button">Change Background</button>

        <div id="footer">
            &copy; 2023 Bratz Magazine
        </div>
    </div>
    <script>
        const draggableBlock = document.getElementById('draggable-block');

        let isDragging = false; // Initialize a flag to track if the block is being dragged.
        let offsetX, offsetY; // Initialize variables to store the initial click position relative to the block.

        // Event listener for mouse click on the block.
        draggableBlock.addEventListener('mousedown', (e) => {
            if (isDragging) {
                // If the block is already being dragged, release it and reset the cursor.
                document.body.style.cursor = 'auto'; // Restore default cursor
                isDragging = false;
                return;
            }

            // Calculate the initial click position relative to the block's top-left corner.
            // This relates to how it drags
            offsetX = e.clientX - draggableBlock.getBoundingClientRect().left;
            offsetY = e.clientY - draggableBlock.getBoundingClientRect().top;

            draggableBlock.style.transition = 'none'; // Disable transition effects temporarily. //Removing this causes bugs
            draggableBlock.style.cursor = 'grabbing'; // Change cursor type when dragging.
            isDragging = true; // Set the dragging flag to true.
        });

        // Event listener for mouse movement while dragging.
        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return; // Return if the block is not being dragged.

            // Calculating the position of the mouse movement.
            const x = e.clientX - offsetX; 
            const y = e.clientY - offsetY;

            draggableBlock.style.transform = `translate(${x}px, ${y}px)`; // Need this to move block
            document.body.style.cursor = 'grabbing'; // Change cursor type to 'grabbing'.
        });

        // Event listener for mouse button release.
        document.addEventListener('mouseup', (e) => {
            // If clicked when dragging allows user to release
            if (isDragging) {
                // If the mouse button is released while dragging, stop dragging.
                //draggableBlock.style.transition = 'transform 0.3s ease-in-out'; // Restore transition. Unsure if needed 
                document.body.style.cursor = 'auto'; // Restore default cursor.
                isDragging = false; // Set the dragging flag to false.
            }
        });

        // Event listener for mouse leaving the document while dragging.
        document.addEventListener('mouseleave', () => {
            if (isDragging) {
                // If the mouse leaves the document while dragging, stop dragging.
                //draggableBlock.style.transition = 'transform 0.3s ease-in-out'; // Restore transition.
                document.body.style.cursor = 'auto'; // Restore default cursor.
                isDragging = false; // Set the dragging flag to false.
            }
        });

    </script>
</body>
</html>
